(this["webpackJsonpdolphin-cta"]=this["webpackJsonpdolphin-cta"]||[]).push([[0],{91:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n(0),s=n.n(i),r=n(10),c=n.n(r),o=(n(91),n(18)),l=n(99),u=n(141),d=n(139),m=n(128),p=n(133),b=n(134),j=n(135),h=n(101),f=n(68),x=n.n(f),g=n(69),v=n.n(g),k=n(70),O=n.n(k),F=n(71),y=n.n(F),E=n(72),w=n.n(E),S=n(58),T=n(143),C=n(131),R=n(100),A=n(132),N=Object(m.a)((function(e){return{mainGrid:{display:"flex",flexDirection:"column",height:"100%"},contrastGrid:{textAlign:"center",flexGrow:1,padding:e.spacing(3)},aboutGrid:{textAlign:"center",padding:e.spacing(3)},srOnly:{position:"fixed",overflow:!1,width:"1px",height:"1px",left:"-1000px"}}}));function B(e){var t=N(),n=e.themeUpdater;var i=Object.keys(e).reduce((function(t,n){return"themeUpdater"!==n&&(t[n]=e[n]),t}),{});return Object(a.jsx)(T.a,Object(S.a)(Object(S.a)({},i),{},{children:Object(a.jsxs)("div",{className:t.mainGrid,children:[Object(a.jsx)("div",{className:t.contrastGrid,children:Object(a.jsxs)(C.a,{orientation:"vertical","aria-label":"Ajuste de contraste",children:[Object(a.jsx)(R.a,{onClick:function(){n.setTheme("commom"),e.onClose()},children:"Normal"}),Object(a.jsx)(R.a,{onClick:function(){n.setTheme("highContrast"),e.onClose()},children:"Alto contraste"}),Object(a.jsx)(R.a,{onClick:function(){n.setTheme("sepia"),e.onClose()},children:"S\xe9pia"})]})}),Object(a.jsx)("div",{className:t.aboutGrid,children:Object(a.jsxs)(h.a,{children:["Desenvolvido por ",Object(a.jsx)("br",{}),Object(a.jsxs)(A.a,{href:"https://cta.ifrs.edu.br/",color:"textPrimary",children:["CTA",Object(a.jsx)("div",{className:t.srOnly,children:"Centro Tecnol\xf3gico de Acessibilidade"})]})]})})]})}))}var M=Object(m.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},active:{color:e.palette.talkerActive.main},notActive:{color:e.palette.talkerNotActive.main},titleBar:{flexGrow:1}}}));var L=function(e){var t=M(),n=Object(i.useState)(!1),s=Object(o.a)(n,2),r=s[0],c=s[1],l=e.talkerMonitor;function u(){c(!r)}return l.talker.setContinuityEvent((function(){return l.isListenEnabled})),Object(i.useEffect)((function(){l.isListenEnabled?l.talker.isRunning()||l.talker.start():l.talker.isRunning()&&l.talker.stop()})),Object(a.jsxs)(p.a,{position:"fixed",children:[Object(a.jsxs)(b.a,{children:[Object(a.jsx)(j.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:u,"aria-haspopup":"true","aria-expanded":r,children:Object(a.jsx)(x.a,{})}),Object(a.jsx)(h.a,{variant:"h6",component:"h1",className:t.titleBar,children:"Dolphin"}),l.talker.hasSupport()&&Object(a.jsx)(j.a,{onClick:function(){l.setTalkerListen(!l.isListenEnabled)},"aria-pressed":l.isListenEnabled,"aria-label":"Convers\xe3o fala para texto",children:l.isListenEnabled?Object(a.jsx)(v.a,{className:t.active}):Object(a.jsx)(O.a,{className:t.notActive})}),Object(a.jsx)(j.a,{onClick:function(){l.setTalkerSpeak(!l.isSpeakEnabled)},"aria-pressed":l.isSpeakEnabled,"aria-label":"Convers\xe3o texto para fala",children:l.isSpeakEnabled?Object(a.jsx)(y.a,{className:t.active}):Object(a.jsx)(w.a,{className:t.notActive})})]}),Object(a.jsx)(B,{open:r,onClose:u,themeUpdater:e.themeUpdater})]})},G=n(77),D=n(138),I=n(137),U=n(136),W=n(140),_=n(73),P=n.n(_),q=Object(m.a)((function(e){return{pad:{padding:"0em 1em"},root:{"& .Mui-focused":{color:e.palette.text.primary},"& .MuiInputLabel-root":{color:e.palette.text.primary}}}}));function z(e){var t=q(),n=Object(i.useRef)(null);function s(t){""!==n.current.value&&(e.onAction(n.current.value),n.current.value="")}return Object(a.jsx)("div",{children:Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault(),s()},children:Object(a.jsxs)(U.a,{container:!0,children:[Object(a.jsx)(U.a,{item:!0,xs:8,className:t.pad,children:Object(a.jsx)(W.a,{id:"input-message",label:"Digite sua mensagem",fullWidth:!0,inputRef:n,className:t.root})}),Object(a.jsx)(U.a,{item:!0,xs:4,className:t.pad,children:Object(a.jsx)(R.a,{fullWidth:!0,variant:"text",size:"large",startIcon:Object(a.jsx)(P.a,{}),onClick:s,children:"Enviar"})})]})})})}var J=n(74),V=n(75),H=function(){function e(t,n){Object(J.a)(this,e),this.setWorkEvent(t),this.setContinuityEvent(n),this._running=!1}return Object(V.a)(e,[{key:"setWorkEvent",value:function(e){return this.workEvent=e,this}},{key:"setContinuityEvent",value:function(e){return this.continuityEvent=e,this.continuityEventBck=e,this}},{key:"isRunning",value:function(){return this._running}},{key:"hasSupport",value:function(){return void 0!==(window.webkitSpeechRecognition||window.SpeechRecognition)}},{key:"start",value:function(){this.continuityEvent=this.continuityEventBck;var e=this;e.currentRecogRef=function t(){var n=new(window.webkitSpeechRecognition||window.SpeechRecognition);return n.lang="pt-BR",n.continuous=!0,n.interimResults=!1,n.onresult=function(t){e.workEvent(t.results)},n.onaudioend=function(n){e.continuityEvent()&&(e.currentRecogRef=t())},n.start(),e._running=!0,n}()}},{key:"stop",value:function(){this.continuityEvent=e.stdStopEvent,this.currentRecogRef.stop(),this._running=!1}}],[{key:"speak",value:function(e){var t=new SpeechSynthesisUtterance(e);window.speechSynthesis.speak(t)}},{key:"hear",value:function(e,t){!function n(){var a=new(window.webkitSpeechRecognition||window.SpeechRecognition);a.lang="pt-BR",a.continuous=!0,a.interimResults=!1,a.onresult=function(t){e(t.results)},a.onaudioend=function(e){t()&&n()},a.start()}()}}]),e}();function K(e,t){return{text:e,type:t}}H.stdStopEvent=function(){return!1};var Q=[K("Bem vindo ao Dolphin!","speak")],X=Object(m.a)((function(e){return{messagesBox:{position:"fixed",left:0,right:0,top:0,bottom:0,overflow:"auto",backgroundColor:e.palette.background.paper},messagesList:{marginLeft:"1.5em",marginRight:"1.5em",marginTop:"3.5em",marginBottom:"3.5em"},commandBar:{position:"fixed",bottom:"0px",left:"0px",right:"0px",borderTop:"1px solid black",zIndex:1e3,padding:"0.5em 0.5em",backgroundColor:e.palette.background.default},speak:{borderRadius:8,backgroundColor:e.palette.speakMessages.main,margin:"1em 0em"},listen:{borderRadius:8,backgroundColor:e.palette.listenMessages.main,margin:"1em 0em"}}}));function Y(e){var t=X(),n=Object(i.useState)(Q),s=Object(o.a)(n,2),r=s[0],c=s[1],d=e.talkerMonitor;function m(e){c([].concat(Object(G.a)(r),[e]))}return d.talker.setWorkEvent((function(e){var t=e[e.length-1];m(K(t[t.length-1].transcript,"listen"))})),Object(i.useEffect)((function(){document.getElementById("msg-"+(r.length-1)).scrollIntoView()})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u.a,{className:t.messagesBox,children:Object(a.jsx)(I.a,{className:t.messagesList,children:r.map((function(e,n){return Object(a.jsx)(D.a,{className:t[e.type],id:"msg-"+n,children:e.text},n)}))})}),Object(a.jsx)(l.a,{elevation:0,square:!0,className:t.commandBar,children:Object(a.jsx)(z,{onAction:function(e){m(K(e,"speak")),d.isSpeakEnabled&&H.speak(e)}})})]})}var Z=n(76);var $=function(){var e,t=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(i.useState)(new H),a=Object(o.a)(n,2),s=a[0],r=a[1],c=Object(i.useState)(e),l=Object(o.a)(c,2),u=l[0],d=l[1],m=Object(i.useState)(t),p=Object(o.a)(m,2),b=p[0],j=p[1];return{talker:s,setTalker:r,isListenEnabled:u,setTalkerListen:d,isSpeakEnabled:b,setTalkerSpeak:j}}(!1,!0),n=Object(i.useState)("commom"),s=Object(o.a)(n,2),r=s[0],c={themeName:r,setTheme:s[1]};return Object(a.jsx)(d.a,{theme:(e=r,"commom"===e?Object(Z.a)({palette:{type:"light",text:{primary:"#000000",scondary:"#000000"},speakMessages:{main:"#729be7",contrastText:"#000000"},listenMessages:{main:"#daaa71",contrastText:"#FFFFFF"},talkerActive:{main:"#00FF00"},talkerNotActive:{main:"#FF0000"}}}):"highContrast"===e?Object(Z.a)({palette:{type:"dark",primary:{main:"#000000",contrastText:"#FFFFFF"},secondary:{main:"#000000",contrastText:"#FFFFFF"},text:{primary:"#FFFFFF",scondary:"#FFFFFF"},speakMessages:{main:"#09214e",contrastText:"#FFFFFF"},listenMessages:{main:"#5c3f19",contrastText:"#FFFFFF"},talkerActive:{main:"#00FF00"},talkerNotActive:{main:"#FF0000"},contrastThreshold:7,tonalOffset:0}}):"sepia"===e?Object(Z.a)({palette:{type:"light",primary:{main:"#ffebcd",contrastText:"#000000"},secondary:{main:"#ffebcd",contrastText:"#000000"},background:{paper:"#ffebcd",default:"#ffebcd"},text:{primary:"#000000",scondary:"#000000"},speakMessages:{main:"#729be7",contrastText:"#FFFFFF"},listenMessages:{main:"#daaa71",contrastText:"#FFFFFF"},talkerActive:{main:"#00AA00"},talkerNotActive:{main:"#AA0000"},contrastThreshold:7,tonalOffset:0}}):void 0),children:Object(a.jsxs)(l.a,{elevation:0,square:!0,children:[Object(a.jsx)(L,{talkerMonitor:t,themeUpdater:c}),Object(a.jsx)(u.a,{style:{marginTop:"3.5em"},children:Object(a.jsx)(Y,{talkerMonitor:t})})]})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,146)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),s(e),r(e)}))};c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)($,{})}),document.getElementById("root")),ee()}},[[96,1,2]]]);
//# sourceMappingURL=main.0c3d93b7.chunk.js.map